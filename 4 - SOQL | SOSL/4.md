# SOQL | SOSL

## What us SOQL

Salesforce Object Query Language
Similar to SQL, but designed for querying data from Salesforce.
Uses same structure and keywords from SQL

## Basic Syntax

<img src="../0%20-%20Resources/soql-query.jpeg"/>

## Conditional Expressions

<img src="../0%20-%20Resources/soql-conditonal-expressions.jpeg"/>

## Aggregate Queries

<img src="../0%20-%20Resources/soql-aggregations.jpeg"/>

## Clauses

<img src="../0%20-%20Resources/soql-clauses.jpeg"/>

```
SELECT StageName, COUNT(Id) FROM Opportunity WHERE CloseDate = LAST_YEAR GROUP BY StageName HAVING COUNT(Id) > 1
```

```
StageName               | count(Id)
Prospecting             | 3
Perception Analysis     | 1
Closed Won              | 4
```

## Relationship Queries

<img src="../0%20-%20Resources/soql-relationship.jpeg"/>

## Writing SOQL In APEX

<img src="../0%20-%20Resources/soql-coding.jpeg"/>

```
List<Opportunity> lstOpp = [SELECT Id, Name FROM Opportunity];
System.debug(lstOpp);
```

```
List<Opportunity> lstOpp = [SELECT Name, Account.Name, Account.Type FROM Opportunity];
for (Opportunity opp : lstOpp) {
    System.debug(`Opp Name - ` + opp.Name)
    System.debug(`Parent Account - ` + opp.Account.Name)
}
```

## SOSL Querying

<img src="../0%20-%20Resources/sosl.jpeg"/>

## Optimised Querying

<img src="../0%20-%20Resources/optimised%20queries.jpeg"/>
